let express,readdirSync,cors;_6f9‍.w("express",[["default",["express"],function(v){express=v}]]);_6f9‍.w("fs",[["readdirSync",["readdirSync"],function(v){readdirSync=v}]]);_6f9‍.w("cors",[["default",["cors"],function(v){cors=v}]]);



const morgan = require("morgan")
const mongoose = require('mongoose');
// Create a Redis client


require("dotenv").config()



 const app = express()
    
 app.use(cors());
// Replace <connection-string> with your actual MongoDB connection string
const connectionString = 'mongodb+srv://ftl:12345@cluster0.ntdokai.mongodb.net/?retryWrites=true&w=majority';

mongoose.connect(connectionString, {
  useNewUrlParser: true,
  useUnifiedTopology: true,
})
.then(() => {
  console.log('Connected to MongoDB Atlas');
})
.catch((err) => {
  _6f9‍.g.console.error('Error connecting to MongoDB Atlas:', err.message);
});


    app.use(cors())
    app.use(express.json())
    app.use(morgan("dev"))
    
    readdirSync("./routes").map((r)=>
        app.use("/api",require(`./routes/${r}`))
    )

    const port = process.env.PORT || 8000
    app.listen(port, console.log(`port running on ${port}`)) 
